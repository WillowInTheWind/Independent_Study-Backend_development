version: '3'
services:
  api:
    image: chaseway/rustapi
    environment:
      DATABASE_URL: "sqlite:C:/Users/Chase Wayland/Independent_Study-Backend_development/rustapi/database/Db"
      CLIENT_ID : "50375690088-d550pisn0njk98emapjq169fcre5iqp8.apps.googleusercontent.com"
      CLIENT_SECRET : "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"
      JWT_SECRET : "dee369bec579dcaaec2a1fabaf0d513c96ceae651396e1f4da9251839ea74fea"
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    depends_on:
      - db
  db:
    image: postgres:15.2-alpine
    restart: always
    environment:
      POSTGRES_PASSWORD: "69184fed7a8a637fbc4e2ee206c82acf46f8c9ff47728397bc92ee9bf3ac7e5b"
    ports:
      - "5432:5432"
    volumes:
      - db:/var/lib/postgresql/data

volumes:
  db:
    driver: local